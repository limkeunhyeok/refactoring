# Refactoring

## CH 04 테스트 구축하기

### 4.1 자가 테스트 코드의 가치

- 모든 테스트를 완전히 자동화하고 그 결과까지 스스로 검사하게 만든다.
- 테스트를 작성하면 생산성도 올라간다.
- 테스트 코드가 있다면 회귀 버그, 즉 새로운 기능 추가로 기존에 잘 동작하던 기능에서 버그가 발생한 경우를 거의 즉시 찾아낼 수 있다.
- 테스트 주도 개발은 '테스트 - 코드 - 리팩터링' 순으로 코드를 작성한다.

> 픽스쳐란 테스트에 필요한 데이터와 객체를 의미한다.

- 테스트마다 겹치는 픽스쳐 사용 시, 유효범위를 옮겨 테스트끼리 상호작용하는 공유 픽스쳐가 아닌 각 테스트마다 새로 설정되는 beforeEach문에서 생성한다.
- 픽스쳐를 사용하는 이유
  - 모든 테스트가 똑같은 픽스쳐에 기초하여 검증을 수행하기를 보장하여 테스트할 속성을 다양하게 발굴할 수 있기 때문이다.
  - beforeEach문은 테스트에 기초가 되는 픽스쳐(이하 표준 픽스쳐)를 사용함을 명시하는 역할을 하기도 합니다.
  - 동료 개발자들이 테스트 코드를 읽을 때 describe문의 모든 테스트가 똑같은 표준 픽스쳐로부터 시작함을 쉽게 인지할 수 있습니다.
